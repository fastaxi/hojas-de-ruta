{
  "total_tests": 37,
  "passed_tests": 37,
  "failed_tests": 0,
  "success_rate": 100.0,
  "test_results": [
    {
      "test": "API Health Check",
      "success": true,
      "details": "Status: ok",
      "timestamp": "2026-01-08T09:53:09.732237"
    },
    {
      "test": "Health Endpoint",
      "success": true,
      "details": "Email configured: True",
      "timestamp": "2026-01-08T09:53:09.771555"
    },
    {
      "test": "Email Service Health Check",
      "success": true,
      "details": "Email configured: True (expected: True)",
      "timestamp": "2026-01-08T09:53:09.806491"
    },
    {
      "test": "User Registration",
      "success": true,
      "details": "User ID: 408e06a2-fca0-4973-a619-8829124850b3",
      "timestamp": "2026-01-08T09:53:10.109493"
    },
    {
      "test": "Duplicate Email Registration",
      "success": true,
      "details": "Error: Este email ya est\u00e1 registrado",
      "timestamp": "2026-01-08T09:53:10.412672"
    },
    {
      "test": "Admin Login",
      "success": true,
      "details": "Token received: Yes",
      "timestamp": "2026-01-08T09:53:10.449054"
    },
    {
      "test": "Admin Get Pending Users",
      "success": true,
      "details": "Found 1 pending users",
      "timestamp": "2026-01-08T09:53:10.492042"
    },
    {
      "test": "User Login (Pending Status)",
      "success": true,
      "details": "Message: Este usuario aun no ha sido verificado por el administrador.",
      "timestamp": "2026-01-08T09:53:10.748701"
    },
    {
      "test": "Admin Approve User",
      "success": true,
      "details": "Message: Usuario aprobado",
      "timestamp": "2026-01-08T09:53:10.993048"
    },
    {
      "test": "User Login (After Approval)",
      "success": true,
      "details": "Token received: Yes",
      "timestamp": "2026-01-08T09:53:11.253287"
    },
    {
      "test": "Route Sheet Validation (Missing Contractor)",
      "success": true,
      "details": "Error: Debe proporcionar tel\u00e9fono o email del contratante",
      "timestamp": "2026-01-08T09:53:11.292800"
    },
    {
      "test": "Flight Number Validation",
      "success": true,
      "details": "Missing: N\u00famero de vuelo obligatorio para recogida en aeropuerto, Invalid format: Formato de vuelo inv\u00e1lido. Ejemplo: VY1234",
      "timestamp": "2026-01-08T09:53:11.363612"
    },
    {
      "test": "Create Valid Route Sheet",
      "success": true,
      "details": "Sheet ID: 5394a452-c9f1-49ec-8482-8185b6739889, Number: 001/2026",
      "timestamp": "2026-01-08T09:53:11.714903"
    },
    {
      "test": "Sequential Sheet Numbering",
      "success": true,
      "details": "Sheet numbers: ['002/2026', '003/2026', '004/2026']",
      "timestamp": "2026-01-08T09:53:12.052154"
    },
    {
      "test": "Get Route Sheets",
      "success": true,
      "details": "Found 4 route sheets",
      "timestamp": "2026-01-08T09:53:12.089104"
    },
    {
      "test": "Get Route Sheets (Date Filter)",
      "success": true,
      "details": "Found 4 sheets in date range",
      "timestamp": "2026-01-08T09:53:12.127437"
    },
    {
      "test": "Annul Route Sheet",
      "success": true,
      "details": "Message: Hoja anulada correctamente",
      "timestamp": "2026-01-08T09:53:12.165875"
    },
    {
      "test": "Annul Route Sheet (Double Annul)",
      "success": true,
      "details": "Error: La hoja ya est\u00e1 anulada",
      "timestamp": "2026-01-08T09:53:12.210440"
    },
    {
      "test": "PDF Generation (Single Sheet)",
      "success": true,
      "details": "Status: 200, Content-Type: application/pdf",
      "timestamp": "2026-01-08T09:53:12.665285"
    },
    {
      "test": "PDF Generation (Range)",
      "success": true,
      "details": "Status: 200, Content-Type: application/pdf",
      "timestamp": "2026-01-08T09:53:12.738177"
    },
    {
      "test": "Admin Route Sheets",
      "success": true,
      "details": "Found 50 route sheets (admin view)",
      "timestamp": "2026-01-08T09:53:13.416568"
    },
    {
      "test": "Admin Config",
      "success": true,
      "details": "Config loaded: Yes",
      "timestamp": "2026-01-08T09:53:13.545023"
    },
    {
      "test": "Admin Users List",
      "success": true,
      "details": "Found 9 users",
      "timestamp": "2026-01-08T09:53:13.592078"
    },
    {
      "test": "Admin Retention Job (Dry Run)",
      "success": true,
      "details": "Stats: {'total': 51, 'visible': 51, 'hidden': 0}, To hide: 0, To purge: 0",
      "timestamp": "2026-01-08T09:53:13.643625"
    },
    {
      "test": "Admin Retention Job (Execute)",
      "success": true,
      "details": "Before: {'total': 51, 'visible': 51, 'hidden': 0}, After: {'total': 51, 'visible': 51, 'hidden': 0}, Hidden: 0, Purged: 0",
      "timestamp": "2026-01-08T09:53:13.761735"
    },
    {
      "test": "Admin Config Validation",
      "success": true,
      "details": "Invalid config error: purge_after_months (10) debe ser mayor que hide_after_months (12), Valid config: Configuraci\u00f3n actualizada",
      "timestamp": "2026-01-08T09:53:14.153657"
    },
    {
      "test": "Admin Config Edge Cases",
      "success": true,
      "details": "Equal values error: purge_after_months (12) debe ser mayor que hide_after_months (12), Min values error: Los meses de retenci\u00f3n deben ser al menos 1",
      "timestamp": "2026-01-08T09:53:14.563278"
    },
    {
      "test": "User Profile Get",
      "success": true,
      "details": "Profile data: Test User 095309, Email: test095309@example.com",
      "timestamp": "2026-01-08T09:53:14.609446"
    },
    {
      "test": "User Profile Update",
      "success": true,
      "details": "Name: Updated User 095314, DNI: 876543214",
      "timestamp": "2026-01-08T09:53:14.721872"
    },
    {
      "test": "User Profile Email Not Modifiable",
      "success": true,
      "details": "Original: test095309@example.com, After update: test095309@example.com",
      "timestamp": "2026-01-08T09:53:14.846620"
    },
    {
      "test": "Vehicle Update",
      "success": true,
      "details": "Brand: Updated Brand, Plate: UPD314",
      "timestamp": "2026-01-08T09:53:14.918164"
    },
    {
      "test": "Vehicle Plate Validation",
      "success": true,
      "details": "Empty plate handling: Accepted - No error",
      "timestamp": "2026-01-08T09:53:14.954859"
    },
    {
      "test": "Drivers CRUD Operations",
      "success": true,
      "details": "Created: True, Updated: True, Deleted: True, Final count: 0",
      "timestamp": "2026-01-08T09:53:15.252249"
    },
    {
      "test": "Drivers Validation",
      "success": true,
      "details": "Backend accepts empty strings (validation is frontend-only): Empty name: True, Empty DNI: True",
      "timestamp": "2026-01-08T09:53:15.586918"
    },
    {
      "test": "Drivers Unauthorized Access",
      "success": true,
      "details": "Update error: Chofer no encontrado, Delete error: Chofer no encontrado",
      "timestamp": "2026-01-08T09:53:15.658017"
    },
    {
      "test": "Existing Approved User Login",
      "success": true,
      "details": "Successfully logged in as testuser_jan8@example.com",
      "timestamp": "2026-01-08T09:53:15.964677"
    },
    {
      "test": "Existing User Configuration APIs",
      "success": true,
      "details": "Profile: testuser_jan8@example.com, Drivers: 1",
      "timestamp": "2026-01-08T09:53:16.050291"
    }
  ]
}