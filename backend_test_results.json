{
  "total_tests": 27,
  "passed_tests": 27,
  "failed_tests": 0,
  "success_rate": 100.0,
  "test_results": [
    {
      "test": "API Health Check",
      "success": true,
      "details": "Status: ok",
      "timestamp": "2026-01-08T08:38:51.896192"
    },
    {
      "test": "Health Endpoint",
      "success": true,
      "details": "Email configured: True",
      "timestamp": "2026-01-08T08:38:51.935040"
    },
    {
      "test": "Email Service Health Check",
      "success": true,
      "details": "Email configured: True (expected: True)",
      "timestamp": "2026-01-08T08:38:51.974236"
    },
    {
      "test": "User Registration",
      "success": true,
      "details": "User ID: 2d3ce502-33b1-4e62-95de-a2910cd1d238",
      "timestamp": "2026-01-08T08:38:52.273761"
    },
    {
      "test": "Duplicate Email Registration",
      "success": true,
      "details": "Error: Este email ya est\u00e1 registrado",
      "timestamp": "2026-01-08T08:38:52.312333"
    },
    {
      "test": "Admin Login",
      "success": true,
      "details": "Token received: Yes",
      "timestamp": "2026-01-08T08:38:52.356079"
    },
    {
      "test": "Admin Get Pending Users",
      "success": true,
      "details": "Found 1 pending users",
      "timestamp": "2026-01-08T08:38:52.396307"
    },
    {
      "test": "User Login (Pending Status)",
      "success": true,
      "details": "Message: Este usuario aun no ha sido verificado por el administrador.",
      "timestamp": "2026-01-08T08:38:52.655858"
    },
    {
      "test": "Admin Approve User",
      "success": true,
      "details": "Message: Usuario aprobado",
      "timestamp": "2026-01-08T08:38:52.921213"
    },
    {
      "test": "User Login (After Approval)",
      "success": true,
      "details": "Token received: Yes",
      "timestamp": "2026-01-08T08:38:53.223089"
    },
    {
      "test": "Route Sheet Validation (Missing Contractor)",
      "success": true,
      "details": "Error: Debe proporcionar tel\u00e9fono o email del contratante",
      "timestamp": "2026-01-08T08:38:53.261503"
    },
    {
      "test": "Flight Number Validation",
      "success": true,
      "details": "Missing: N\u00famero de vuelo obligatorio para recogida en aeropuerto, Invalid format: Formato de vuelo inv\u00e1lido. Ejemplo: VY1234",
      "timestamp": "2026-01-08T08:38:53.379314"
    },
    {
      "test": "Create Valid Route Sheet",
      "success": true,
      "details": "Sheet ID: b5ed4416-075d-4174-9776-63355f8dc945, Number: 001/2026",
      "timestamp": "2026-01-08T08:38:53.424056"
    },
    {
      "test": "Sequential Sheet Numbering",
      "success": true,
      "details": "Sheet numbers: ['002/2026', '003/2026', '004/2026']",
      "timestamp": "2026-01-08T08:38:53.563228"
    },
    {
      "test": "Get Route Sheets",
      "success": true,
      "details": "Found 4 route sheets",
      "timestamp": "2026-01-08T08:38:53.599799"
    },
    {
      "test": "Get Route Sheets (Date Filter)",
      "success": true,
      "details": "Found 4 sheets in date range",
      "timestamp": "2026-01-08T08:38:53.638668"
    },
    {
      "test": "Annul Route Sheet",
      "success": true,
      "details": "Message: Hoja anulada correctamente",
      "timestamp": "2026-01-08T08:38:53.673106"
    },
    {
      "test": "Annul Route Sheet (Double Annul)",
      "success": true,
      "details": "Error: La hoja ya est\u00e1 anulada",
      "timestamp": "2026-01-08T08:38:53.707711"
    },
    {
      "test": "PDF Generation (Single Sheet)",
      "success": true,
      "details": "Status: 200, Content-Type: application/pdf",
      "timestamp": "2026-01-08T08:38:54.029124"
    },
    {
      "test": "PDF Generation (Range)",
      "success": true,
      "details": "Status: 200, Content-Type: application/pdf",
      "timestamp": "2026-01-08T08:38:54.102245"
    },
    {
      "test": "Admin Route Sheets",
      "success": true,
      "details": "Found 41 route sheets (admin view)",
      "timestamp": "2026-01-08T08:38:54.152959"
    },
    {
      "test": "Admin Config",
      "success": true,
      "details": "Config loaded: Yes",
      "timestamp": "2026-01-08T08:38:54.188299"
    },
    {
      "test": "Admin Users List",
      "success": true,
      "details": "Found 7 users",
      "timestamp": "2026-01-08T08:38:54.226438"
    },
    {
      "test": "Admin Retention Job (Dry Run)",
      "success": true,
      "details": "Stats: {'total': 41, 'visible': 41, 'hidden': 0}, To hide: 0, To purge: 0",
      "timestamp": "2026-01-08T08:38:54.262844"
    },
    {
      "test": "Admin Retention Job (Execute)",
      "success": true,
      "details": "Before: {'total': 41, 'visible': 41, 'hidden': 0}, After: {'total': 41, 'visible': 41, 'hidden': 0}, Hidden: 0, Purged: 0",
      "timestamp": "2026-01-08T08:38:54.328355"
    },
    {
      "test": "Admin Config Validation",
      "success": true,
      "details": "Invalid config error: purge_after_months (10) debe ser mayor que hide_after_months (12), Valid config: Configuraci\u00f3n actualizada",
      "timestamp": "2026-01-08T08:38:54.395547"
    },
    {
      "test": "Admin Config Edge Cases",
      "success": true,
      "details": "Equal values error: purge_after_months (12) debe ser mayor que hide_after_months (12), Min values error: Los meses de retenci\u00f3n deben ser al menos 1",
      "timestamp": "2026-01-08T08:38:54.507935"
    }
  ]
}